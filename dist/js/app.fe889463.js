webpackJsonp([1],{0:function(t,e,n){t.exports=n("NHnr")},"1/oy":function(t,e){},"7qAD":function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return o});var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-modal",{attrs:{size:"lg","hide-header":"","hide-footer":""},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[n("iframe",{attrs:{id:"authForm"}})])},o=[]},GYky:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return o});var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("authForm",{attrs:{eventBus:t.eventBus,user:t.user,error:t.error,oauth2:t.oauth2}}),n("b-navbar",[null==t.user.token?n("b-button",{on:{click:function(e){t.login()}}},[t._v("login "+t._s(t.error.msg))]):t._e(),null!=t.user.token?n("b-button",{on:{click:function(e){t.logout()}}},[t._v("logout "+t._s(t.user.token))]):t._e()],1)],1)},o=[]},Id91:function(t,e){},M93x:function(t,e,n){"use strict";var r=n("OWjy"),o=n.n(r),u=n("GYky"),a=n("XyMi"),s=!1,i=null,l=null,c=null,f=Object(a["a"])(o.a,u["a"],u["b"],s,i,l,c);e["default"]=f.exports},Mu4Z:function(t,e,n){var r;r=n("/5sW").default,t.exports=new r},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("/5sW"),o=n("M93x");r["default"].config.productionTip=!1,new r["default"]({render:function(t){return t(o["default"])}}).$mount("#app")},OWjy:function(t,e,n){var r,o;n("h5AK"),r=n("/5sW").default,r.use(n("e6fC").default),r.use(n("dGcE").default),o=n("hAvT").default,t.exports={data:function(){return{eventBus:o,user:{token:null},error:{msg:""},oauth2:{url:"https://app.ogcio.gov.hk/auth/oauth2/authorize/",client:"3TJ1GWZKUgXADslxXcdWQeipIvniayX0C7AKXNjG",scope:"User",response_type:"token"}}},methods:{login:function(){return o.$emit("login")},logout:function(){return o.$emit("logout")}}}},PfU7:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("SOca"),o=n.n(r);for(var u in r)"default"!==u&&function(t){n.d(e,t,function(){return r[t]})}(u);var a=n("7qAD"),s=n("XyMi");function i(t){n("lTm7")}var l=!1,c=i,f=null,d=null,h=Object(s["a"])(o.a,a["a"],a["b"],l,c,f,d);e["default"]=h.exports},SOca:function(t,e,n){var r;r=n("/5sW").default,r.use(n("e6fC").default),t.exports={props:["eventBus","user","error","oauth2"],data:function(){return{show:!1,src:null}},methods:{authUrl:function(){var t,e,r,o,u,a;return t=n("UZ5h"),({url:a,client:e,scope:u,response_type:o}=this.oauth2),r=t.format({query:{client_id:e,scope:u,response_type:o}}),`${a}${r}`},postParent:function(){var t,e,n,r,o;if(e=new URLSearchParams(null!=(n=location.hash)?n.slice(1):void 0),o=new URLSearchParams(null!=(r=location.search)?r.slice(1):void 0),t={access_token:e.get("access_token"),error:o.get("error")},null!=t.access_token||null!=t.error)return window.parent.postMessage({type:"oauth2",data:t},location.origin)},login:function(){return document.getElementById("authForm").src=this.authUrl(),this.show=!0},logout:function(){return this.user.token=null}},created:function(){return this.eventBus.$on("login",()=>{return this.login()}).$on("logout",()=>{return this.logout()}),this.postParent(),window.addEventListener("message",t=>{var e,n;if(({type:n,data:e}=t.data),"oauth2"===n)return this.error.msg=e.error,this.user.token=e.access_token,this.show=!1})}}},dGcE:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("oS95"),o=n.n(r);for(var u in r)"default"!==u&&function(t){n.d(e,t,function(){return r[t]})}(u);var a,s,i=n("XyMi"),l=!1,c=null,f=null,d=null,h=Object(i["a"])(o.a,a,s,l,c,f,d);e["default"]=h.exports},h5AK:function(t,e){},hAvT:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("Mu4Z"),o=n.n(r);for(var u in r)"default"!==u&&function(t){n.d(e,t,function(){return r[t]})}(u);var a,s,i=n("XyMi"),l=!1,c=null,f=null,d=null,h=Object(i["a"])(o.a,a,s,l,c,f,d);e["default"]=h.exports},lTm7:function(t,e){},oS95:function(t,e,n){t.exports={install:function(t,e){return t.component("authForm",t.extend(n("PfU7").default))}}},zj2Q:function(t,e){}},[0]);
//# sourceMappingURL=app.fe889463.js.map
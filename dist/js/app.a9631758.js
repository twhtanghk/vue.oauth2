webpackJsonp([1],{0:function(t,e,n){t.exports=n("NHnr")},"1/oy":function(t,e){},"4xOM":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return r});var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("authForm",{attrs:{eventBus:t.eventBus,oauth2:t.oauth2}}),n("b-navbar",[null==t.token?n("b-button",{on:{click:function(e){t.getToken()}}},[t._v("login "+t._s(t.error))]):t._e(),null!=t.token?n("b-button",{on:{click:function(e){t.logout()}}},[t._v("logout "+t._s(t.token))]):t._e()],1)],1)},r=[]},Id91:function(t,e){},M93x:function(t,e,n){"use strict";var o=n("OWjy"),r=n.n(o),u=n("4xOM"),a=n("XyMi"),i=!1,s=null,l=null,c=null,f=Object(a["a"])(r.a,u["a"],u["b"],i,s,l,c);e["default"]=f.exports},Mu4Z:function(t,e,n){var o;o=n("/5sW").default,t.exports=new o},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("/5sW"),r=n("M93x");o["default"].config.productionTip=!1,new o["default"]({render:function(t){return t(r["default"])}}).$mount("#app")},OWjy:function(t,e,n){var o,r;o=n("/5sW").default,o.use(n("e6fC").default),o.use(n("dGcE").default),r=n("hAvT").default,t.exports={data:function(){return{token:null,error:null,eventBus:r,oauth2:{url:"https://app.ogcio.gov.hk/auth/oauth2/authorize/",client:"3TJ1GWZKUgXADslxXcdWQeipIvniayX0C7AKXNjG",scope:"User",response_type:"token"}}},methods:{getToken:function(){return this.eventBus.$emit("oauth2.getToken")},logout:function(){return this.token=null,this.eventBus.$emit("oauth2.logout")}},created:function(){return this.eventBus.$on("oauth2.token",t=>{return this.token=t,this.error=null}).$on("oauth2.error",t=>{return this.token=null,this.error=t})}}},OgBm:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return r});var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-modal",{attrs:{size:"lg","hide-header":"","hide-footer":""},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[n("iframe",{attrs:{id:"authForm"}})])},r=[]},PfU7:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("SOca"),r=n.n(o);for(var u in o)"default"!==u&&function(t){n.d(e,t,function(){return o[t]})}(u);var a=n("OgBm"),i=n("XyMi");function s(t){n("lTm7")}var l=!1,c=s,f=null,h=null,d=Object(i["a"])(r.a,a["a"],a["b"],l,c,f,h);e["default"]=d.exports},SOca:function(t,e,n){var o;o=n("/5sW").default,o.use(n("e6fC").default),t.exports={props:["eventBus","oauth2"],data:function(){return{token:null,error:null,show:!1,src:null}},methods:{authUrl:function(){var t,e,o,r,u,a;return t=n("UZ5h"),({url:a,client:e,scope:u,response_type:r}=this.oauth2),o=t.format({query:{client_id:e,scope:u,response_type:r}}),`${a}${o}`},postParent:function(){var t,e,n,o,r;if(e=new URLSearchParams(null!=(n=location.hash)?n.slice(1):void 0),r=new URLSearchParams(null!=(o=location.search)?o.slice(1):void 0),t={access_token:e.get("access_token"),error:r.get("error")},null!=t.access_token||null!=t.error)return window.parent.postMessage({type:"oauth2",data:t},location.origin)},getToken:function(){return document.getElementById("authForm").src=this.authUrl(),this.show=!0},logout:function(){return this.token=null}},created:function(){return this.eventBus.$on("oauth2.getToken",()=>{return this.getToken()}).$on("oauth2.logout",()=>{return this.logout()}),this.postParent(),window.addEventListener("message",t=>{var e,n;if(({type:n,data:e}=t.data),"oauth2"===n)return this.error=e.error,this.token=e.access_token,null!=this.error&&this.eventBus.$emit("oauth2.error",this.error),null!=this.token&&this.eventBus.$emit("oauth2.token",this.token),this.show=!1})}}},dGcE:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("oS95"),r=n.n(o);for(var u in o)"default"!==u&&function(t){n.d(e,t,function(){return o[t]})}(u);var a,i,s=n("XyMi"),l=!1,c=null,f=null,h=null,d=Object(s["a"])(r.a,a,i,l,c,f,h);e["default"]=d.exports},hAvT:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("Mu4Z"),r=n.n(o);for(var u in o)"default"!==u&&function(t){n.d(e,t,function(){return o[t]})}(u);var a,i,s=n("XyMi"),l=!1,c=null,f=null,h=null,d=Object(s["a"])(r.a,a,i,l,c,f,h);e["default"]=d.exports},lTm7:function(t,e){},oS95:function(t,e,n){t.exports={install:function(t,e){return t.component("authForm",t.extend(n("PfU7").default))}}},zj2Q:function(t,e){}},[0]);
//# sourceMappingURL=app.a9631758.js.map